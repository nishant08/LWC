<template>
    <div class="slds-scrollable" style="height: 250px">
        <!--<template if:true={boatReviews.error}>
            <div class="slds-align_absolute-center">
                Error loading reviews
            </div>
        </template>-->
<!--        <template if:true={boatReviews.data}>-->
            <template if:false={reviewsToShow}>
                <div class="slds-align_absolute-center">
                    No reviews available
                </div>
            </template>
            <template if:true={reviewsToShow}>
                <template if:true={isLoading}>
                    <lightning-spinner size="small" alternative-text="Loading" variant="brand"></lightning-spinner>
                </template>
                <div class="slds-feed reviews-style slds-is-relative slds-scrollable_y">
                    <ul class="slds-feed__list">




                        <template for:each={boatReviews} for:item="review">
                            <li key={review.Id} class="slds-feed__item">
                                <article class="slds-post">
                                    <header class="slds-post__header slds-media">
                                        <div class="slds-media__figure">

                                            <lightning-avatar variant="circle" src={review.CreatedBy.SmallPhotoUrl}
                                                fallback-icon-name="standard:person_account"
                                                alternative-text={review.CreatedBy.Name}
                                                class="slds-avatar slds-avatar_circle slds-avatar_large">
                                            </lightning-avatar>
                                            <!--<a href="javascript:void(0);"
                                                class="slds-avatar slds-avatar_circle slds-avatar_large">
                                                <img alt={review.CreatedBy.Name} src={review.CreatedBy.SmallPhotoUrl}
                                                    title={review.CreatedBy.Name} />
                                            </a>-->
                                        </div>
                                        <div class="slds-media__body">
                                            <div class="slds-grid slds-grid_align-spread slds-has-flexi-truncate">

                                                <p>
                                                    <a onclick={navigateToRecord}
                                                        
                                                        title={boatReview.CreatedBy.Name}>{boatReview.CreatedBy.Name}</a>

                                                    <span>
                                                        <!-- display creatorâ€™s company name -->
                                                        {boatReview.CreatedBy.CompanyName}
                                                    </span>

                                                </p>
                                            </div>
                                            <div class="slds-text-body_small">
                                                <lightning-formatted-date-time value={review.CreatedDate} year="numeric"
                                                    day="2-digit" month="short" hour="2-digit" minute="2-digit"
                                                    second="2-digit"></lightning-formatted-date-time>
                                            </div>
                                        </div>
                                    </header>
                                    <div class="slds-post__content slds-text-longform">
                                        <p class="slds-text-title_caps">{review.Name}</p>
                                        <p>
                                            <lightning-formatted-rich-text value={review.Comment__c}>
                                            </lightning-formatted-rich-text>
                                        </p>
                                    </div>
                                    <c-five-star-rating rating-value={review.Rating__c} read-only>
                                    </c-five-star-rating>
                                </article>
                            </li>
                        </template>





                    </ul>
                </div>
            </template>
        <!--</template>-->
    </div>
</template>